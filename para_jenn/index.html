<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jennifer </title>
  <meta name="description" content="Una p√°gina para Jennifer." />
  <style>
    :root{
      --bg:#0b0b12;
      --card:#131325;
      --soft:#1b1b32;
      --accent:#ff6ea8;
      --accent-2:#8ad0ff;
      --text:#f6f7fb;
      --muted:#cdd0de;
      --shadow: 0 10px 40px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1200px 1200px at 80% -20%, #1b2238 0%, transparent 60%), var(--bg);
      line-height:1.5;
      scroll-behavior:smooth;
      overflow-x:hidden;
    }

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      background:linear-gradient(180deg, rgba(11,11,18,.9), rgba(11,11,18,.6));
      backdrop-filter:saturate(160%) blur(8px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .wrap{max-width:1100px; margin:0 auto; padding:0 16px}
    nav{display:flex; align-items:center; justify-content:space-between; height:64px}
    nav a{
      color:var(--muted); text-decoration:none; margin-left:16px; font-weight:600; font-size:.95rem;
    }
    nav a:hover{color:#fff}
    .brand{font-weight:800; letter-spacing:.3px; color:#fff}

    /* Hero */
    .hero{
      position:relative; padding:96px 16px 72px;
      display:grid; gap:28px; grid-template-columns:1.15fr .85fr;
      align-items:center;
    }
    @media (max-width:900px){ .hero{grid-template-columns:1fr; padding:72px 16px 48px} }
    .h-left h1{
      margin:0 0 12px; font-size:clamp(36px,6vw,54px); line-height:1.05;
      background:linear-gradient(90deg, #fff, #ffd3e5 35%, #bfe6ff 75%); -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .h-left p{margin:0 0 20px; color:var(--muted); font-size:1.05rem}
    .cta-row{display:flex; gap:12px; flex-wrap:wrap}
    .btn{
      appearance:none; border:0; padding:12px 18px; border-radius:14px; cursor:pointer;
      background:var(--accent); color:#111; font-weight:800; box-shadow:var(--shadow); text-decoration:none; display:inline-flex; align-items:center; gap:10px
    }
    .btn.secondary{background:var(--card); color:#fff; border:1px solid rgba(255,255,255,.06)}
    .btn:active{transform:translateY(1px)}

    /* Floating heart background */
    .heart{
      position:absolute; width:18px; height:18px; left:var(--x); top:var(--y);
      transform:translate(-50%,-50%);
      background: radial-gradient(circle at 30% 30%, #fff 0 20%, transparent 21%) top left/50% 50%,
                  radial-gradient(circle at 70% 30%, #fff 0 20%, transparent 21%) top right/50% 50%,
                  linear-gradient(#fff 0 0) bottom/60% 45%;
      background-repeat:no-repeat;
      filter: drop-shadow(0 0 8px rgba(255,255,255,.35));
      opacity:.07; animation: floatUp var(--dur) linear infinite;
    }
    @keyframes floatUp{
      from{ transform:translate(-50%, 20vh) scale(.85); opacity:.0}
      30%{ opacity:.08}
      to{ transform:translate(-50%, -120vh) scale(1.05); opacity:0}
    }

    /* Sections */
    section{padding:56px 16px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
    .two{
      display:grid; grid-template-columns:1fr 1fr; gap:18px;
    }
    @media (max-width:900px){ .two{grid-template-columns:1fr} }

    .title{
      font-size:1.6rem; margin:0 0 14px; letter-spacing:.3px
    }
    .muted{color:var(--muted)}

    /* Gallery */
    .grid{
      display:grid; gap:12px;
      grid-template-columns:repeat(4,1fr);
    }
    @media (max-width:1100px){ .grid{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:700px){ .grid{grid-template-columns:repeat(2,1fr)} }
    .ph{
      position:relative; border-radius:14px; overflow:hidden; aspect-ratio: 1/1; cursor:pointer;
      background:var(--soft); border:1px dashed rgba(255,255,255,.12);
      display:flex; align-items:center; justify-content:center; color:var(--muted); font-weight:700;
    }
    .ph img{width:100%; height:100%; object-fit:cover; display:block}

    /* Lightbox */
    .lightbox{
      position:fixed; inset:0; background:rgba(0,0,0,.8);
      display:none; align-items:center; justify-content:center; z-index:60; padding:24px;
    }
    .lightbox.open{display:flex}
    .lightbox img, .lightbox video{
      max-width:min(100%, 1100px); max-height:85vh;
      border-radius:14px; box-shadow:var(--shadow)
    }

    /* Video section */
    .video-list{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:900px){ .video-list{grid-template-columns:1fr} }
    .video-card{
      background:var(--soft); border:1px solid rgba(255,255,255,.06);
      border-radius:14px; overflow:hidden;
    }
    .video-card video, .video-card iframe{width:100%; aspect-ratio:16/9; display:block; border:0}

    /* Letters */
    .letters{
      display:grid; grid-template-columns:1fr 1fr; gap:16px;
    }
    @media (max-width:900px){ .letters{grid-template-columns:1fr} }
    .letter{
      padding:18px; border-radius:16px; background:linear-gradient(180deg, rgba(255,110,168,.12), rgba(138,208,255,.08));
      border:1px solid rgba(255,255,255,.1)
    }

    /* Footer / audio control */
    footer{padding:36px 16px 64px; text-align:center; color:var(--muted)}
    .audio-ctrl{
      position:fixed; right:16px; bottom:16px; z-index:70;
      background:var(--accent); color:#111; border:0; padding:12px 14px; border-radius:999px; font-weight:900; cursor:pointer; box-shadow:var(--shadow)
    }
    .audio-ctrl.muted{background:var(--card); color:#fff; border:1px solid rgba(255,255,255,.08)}
  </style>
</head>
<body>
    <!-- ---- PLAYLIST DE M√öSICA ---- -->
<style>
  #musicPlayer{
    position:fixed;
    left:16px; bottom:16px;
    background:#1b1b32;
    padding:12px 16px;
    border-radius:12px;
    color:white;
    font-size:14px;
    box-shadow:0 4px 14px rgba(0,0,0,.4);
    display:flex;
    flex-direction:column;
    gap:8px;
    z-index:9999;
  }
  #musicBtns button{
    background:#ff6ea8;
    border:0;
    padding:6px 10px;
    border-radius:8px;
    color:#111;
    font-weight:bold;
    cursor:pointer;
  }
  #songName{font-weight:bold;font-size:14px;color:#ffd3e5}
</style>




  <!-- Floating hearts (decor) -->
  <!-- Puedes aumentar N para m√°s corazones -->
  <div id="hearts"></div>

  <header>
    <div class="wrap">
      <nav>
        <div class="brand">Para una muchacha</div>
        <div>
          <a href="#galeria">Fotos</a>
          <a href="#videos">Videos</a>
          <a href="#cartas">Cartas o algo</a>
        </div>
      </nav>
    </div>
  </header>

  <main class="wrap">

    <!-- HERO -->
    <section class="hero">
      <div class="h-left">
        <h1>Persona del mundo, esto lo hice para ti y por mis hijos imaginarios</h1>
        <p class="muted">
          Un rinc√≥n solo tuyo, solo mio, solo nuestro.
        </p>
        <div class="cta-row">
          <a class="btn" href="#galeria">Ver galer√≠a</a>
          <a class="btn secondary" href="#cartas">Leer algo</a>
        </div>
      </div>
      <div class="card" style="padding:18px">
        <!-- FOTO PRINCIPAL -->
        <!-- Reemplaza src con tu imagen principal -->
        <!-- Ej: src="assets/photos/portada.jpg" -->
        <img id="portada" src="assets/photos/miau.jpg" alt="Nuestra foto" style="width:100%; border-radius:12px; aspect-ratio:4/3; object-fit:cover; background:#0e0e18" />
        <p class="muted" style="margin:10px 2px 0">Usted y yo</p>
      </div>
    </section>

    <section class="card" style="padding:18px">
  <h2 class="title">Carta secreta jeje üîí</h2>
  <input id="k" placeholder="Escribe nuestra clave" style="padding:10px;border-radius:10px;border:1px solid #333;color:#fff;background:#1b1b32">
  <button id="open" class="btn" style="margin-left:8px">Abrir</button>
  <div id="secret" style="display:none;margin-top:12px">
    <p class="muted">Si descubriste la contrase√±a, esto tiene que funcionar‚Ä¶ ‚ú®</p>
  </div>
</section>
<script>
  document.getElementById('open').onclick = ()=>{
    const ok = document.getElementById('k').value.trim().toLowerCase();
    if(ok === 'alohomora14') document.getElementById('secret').style.display='block';
  };
</script>


    <!-- GALER√çAaaaaaaaaaaaaaaaaa -->
 <section id="galeria">
      <h2 class="title">Nuestra galer√≠a</h2>
      <p class="muted" style="margin:0 0 12px">Momentos que quiero revivir contigo una y otra vez.</p>
      <div class="grid">
        <!-- Reemplaza cada src con tus im√°genes. Si no tienes a√∫n, deja vac√≠o. -->
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/00f590dbdb5fbeb280726f7c6870587f.jpg"  style="width: 100%; height: 100%;"/>
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/1fe736c15d33999db5e99d6d059997d9.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/2fd012537d7b85f99a71be3f5472dd7c.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/b48f130246ccce250ad66a1900a39e76.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/bcabac911225719a66ca9e2fbc27eb08.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/c5e2086bb96f1a47639674ec5c9f63cb.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span></span>
          <img alt="" src="assets/photos/miau.jpg" style="width: 100%; height: 100%;" />
        </div>
        <div class="ph" data-full="">
          <span>Foto 8</span>
          <img alt="" src="" style="display:none" />
        </div>
      </div>
    </section>

    <!-- VIDEOS -->
    <section id="videos">
      <h2 class="title">Nuestros videos</h2>
      <p class="muted" style="margin:0 0 12px">Despuej</p>
      <div class="video-list">
        <!-- Opci√≥n A: video local (recomendado MP4 H.264) -->
        <div class="video-card">
          <!-- Reemplaza src con tu archivo: assets/videos/video1.mp4 -->
          <video src="" controls playsinline></video>
        </div>
        <!-- Opci√≥n B: video de YouTube/Vimeo (usa embed) -->
        <div class="video-card">
          <!-- Reemplaza el src del iframe por el embed de tu video (YouTube: https://www.youtube.com/embed/ID ) -->
          <iframe src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen title="Video de nosotros"></iframe>
        </div>
      </div>
    </section>

    <!-- CARTAS / P√ÅRRAFOS -->
    <section id="cartas">
      <h2 class="title">Algo que quizas deberias leer</h2>
      <div class="letters">
        <article class="letter">
          <h3 style="margin:0 0 6px">1</h3>
          <p class="muted">And tonight our skin, our bones,
that have survived our fathers,
will meet, delicate in the hold,
fastened together in an intricate lock.
Then one of us will shout,
"My need is more desperate!" and
I will eat you slowly with kisses
even though the killer in you
has gotten out</p>
        </article>
        <article class="letter">
          <h3 style="margin:0 0 6px">2</h3>
          <p class="muted">Everyone in me is a bird.
I am beating my wings.
They wanted to cut you out
but they will not.
They said you were immeasurably empty
bu you are not.
They said you were sick unto dying
but they were wrong.
You are winging like a school girl.
You are not torn.‚Äù</p>
        </article>
      </div>
    </section>

    <!-- EXTRA (opcional) -->
    <section class="two">
      <div class="card" style="padding:18px">
        <h3 style="margin:0 0 6px"></h3>
        <p class="muted" style="margin-top:0">Espero estes escuchando la cancion</p>
        <ul class="muted" style="padding-left:18px; margin-top:8px">
          <li>Te estimo</li>
          <li>Te quiero 66</li>
          <li>...</li>
        </ul>
      </div>
      <div class="card" style="padding:18px">
        <h3 style="margin:0 0 6px">Despuej</h3>
        <p class="muted" style="margin-top:0">Despuej</p>
      </div>
    </section>

  </main>

  <footer>
    Hecho con mucho "odio". ‚ú®
  </footer>

  <!-- AUDIO (m√∫sica de fondo) -->
  <!-- Reemplaza el src por tu archivo: ej. src="assets/music/nuestra-cancion.mp3" -->
  <audio id="bgm" src="assets/music/dance.mp3" loop preload="auto"></audio>
  <button class="audio-ctrl muted" id="audioBtn">Encender m√∫sica ‚ô™</button>

  <!-- Lightbox para im√°genes -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <img id="lightboxMedia" alt="preview" />
  </div>
<script>
  document.addEventListener('click', (e)=>{
    const h = document.createElement('div');
    h.textContent = '‚ù§';
    h.style.cssText = `position:fixed;left:${e.clientX}px;top:${e.clientY}px;
      font-size:18px;pointer-events:none;transition:all .9s ease;opacity:.9`;
    document.body.appendChild(h);
    requestAnimationFrame(()=>{
      h.style.transform='translateY(-90px) scale(1.6)';
      h.style.opacity='0';
    });
    setTimeout(()=>h.remove(),900);
  });
</script>

  <script>
    // ====== Corazones flotantes ======
    (function makeHearts(){
      const container = document.getElementById('hearts');
      const N = 28; // ajusta cantidad
      for(let i=0;i<N;i++){
        const h = document.createElement('div');
        h.className='heart';
        h.style.setProperty('--x', Math.random()*100+'vw');
        h.style.setProperty('--y', (Math.random()*100)+'vh');
        h.style.setProperty('--dur', (18 + Math.random()*18) + 's');
        container.appendChild(h);
      }
    })();

    // ====== Audio toggle ======
    const audio = document.getElementById('bgm');
    const btn = document.getElementById('audioBtn');
    let playing = false;
    btn.addEventListener('click', async () => {
      try{
        if(!playing){
          await audio.play();
          playing = true;
          btn.textContent = 'Pausar m√∫sica ‚ùö‚ùö';
          btn.classList.remove('muted');
        }else{
          audio.pause();
          playing = false;
          btn.textContent = 'Encender m√∫sica ‚ô™';
          btn.classList.add('muted');
        }
      }catch(e){
        console.log('No se pudo reproducir:', e);
      }
    });

    // ====== Galer√≠a interactiva (lightbox) ======
    const lightbox = document.getElementById('lightbox');
    const lightImg = document.getElementById('lightboxMedia');

    document.querySelectorAll('.ph').forEach(cell=>{
      const img = cell.querySelector('img');
      const full = cell.getAttribute('data-full');

      // Si agregas src a <img>, se muestra miniatura
      if(img.getAttribute('src')){
        img.style.display='block';
        cell.querySelector('span')?.remove();
      }

      cell.addEventListener('click', ()=>{
        const src = full || img.getAttribute('src');
        if(!src) return; // vac√≠o, no abre
        lightImg.src = src;
        lightbox.classList.add('open');
        lightbox.setAttribute('aria-hidden','false');
      });
    });

    lightbox.addEventListener('click', ()=>{
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden','true');
      lightImg.removeAttribute('src');
    });

    // ====== Accesibilidad: cerrar con ESC ======
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && lightbox.classList.contains('open')){
        lightbox.click();
      }
    });
  </script>
  <script>
  document.addEventListener('mousemove', (e)=>{
    const s = document.createElement('span');
    s.textContent = '‚ù§';
    s.style.cssText = `
      position:fixed;left:${e.clientX}px;top:${e.clientY}px;
      pointer-events:none;opacity:.9;transition:transform .9s, opacity .9s;
      filter: drop-shadow(0 0 6px rgba(255,255,255,.5));
    `;
    document.body.appendChild(s);
    requestAnimationFrame(()=>{
      s.style.transform = 'translateY(-40px) scale(1.4) rotate(10deg)';
      s.style.opacity = '0';
    });
    setTimeout(()=>s.remove(), 900);
  });
</script>
<!-- ========== MINI JUEGO PRINCESAS: RESCATE ========== -->
<style>
  #gameCard{
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.08);
    border-radius:16px; padding:18px; margin:30px 0;
    box-shadow:0 10px 40px rgba(0,0,0,.35);
  }
  #hud{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:10px}
  .chip{background:#1b1b32;padding:8px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.12)}
  .btn{padding:10px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:900}
  .btn{background:#ff6ea8;color:#111}
  .btn.secondary{background:#1b1b32;color:#fff;border:1px solid rgba(255,255,255,.12)}
  #progressWrap{flex:1;height:12px;background:#1b1b32;border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.12)}
  #progress{height:100%;width:0%;background:linear-gradient(90deg,#ffd3e5,#bfe6ff)}

  #gameBox{
    width:100%;max-width:720px;height:260px;margin:0 auto;
    border:2px solid #ff6ea8;border-radius:16px;overflow:hidden;
    background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03)),
      linear-gradient(0deg,#0e1020 65%,#151733 65%);
    position:relative;touch-action:manipulation; 
  }
  #ground{position:absolute;bottom:0;left:0;right:0;height:30px;background:#1e224a}

  .sprite{
    position:absolute;width:60px;height:60px;
    background-size:cover;background-position:center;
    image-rendering:pixelated;
  }
  #princesa{left:40px;bottom:30px}
  #meta{right:18px;bottom:30px}

  .obst{
    position:absolute;bottom:30px;
    width:42px;height:42px;font-size:28px;
    display:flex;align-items:center;justify-content:center;
    filter:drop-shadow(0 2px 6px rgba(0,0,0,.5));
    user-select:none;
  }
  .heart{color:#ff7aa8}
  .shadow{color:#0f0f16;text-shadow:0 0 6px rgba(0,0,0,.9)}

  #msg{text-align:center;margin-top:12px;min-height:28px}
  #help{text-align:center;margin-top:6px;color:#aaa}

  .puff{
    position:absolute;font-size:16px;pointer-events:none;opacity:.9;
    transform:translate(-50%,-50%);transition:transform .7s,opacity .7s;
    filter:drop-shadow(0 0 6px rgba(255,255,255,.4));
  }
</style>



<!-- ========== MINI JUEGO PRINCESAS: BOSQUE ========== -->
<style>
  /* Tarjeta */
  #gameCard{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px;margin:30px 0;
    box-shadow:0 10px 40px rgba(0,0,0,.35)}
  #hud{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:10px}
  .chip{background:#183c2a;padding:8px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.12);color:#def8e7}
  .btn{padding:10px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:900}
  .btn{background:#6ee7b7;color:#0b2a1b} .btn.secondary{background:#183c2a;color:#eafff4;border:1px solid rgba(255,255,255,.12)}
  #progressWrap{flex:1;height:12px;background:#163524;border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.12)}
  #progress{height:100%;width:0%;background:linear-gradient(90deg,#b7f7d7,#7ad6ff)}

  /* Caja del juego - Bosque */
  #gameBox{
    width:100%;max-width:780px;height:280px;margin:0 auto;border:2px solid #34d399;border-radius:16px;overflow:hidden;position:relative;
    touch-action:manipulation;background:
      linear-gradient(#bdf3ff 0 50%, #97e7bd 50% 100%); /* cielo -> bosque lejano */
  }

  /* Capas de fondo (parallax) */
  .bg-hills,.bg-trees{position:absolute;inset:0;pointer-events:none}
  .bg-hills{
    background:
      radial-gradient(1200px 200px at -10% 80%, #6ac58f 0 60%, transparent 61%) 0 100%/50% 60% no-repeat,
      radial-gradient(1200px 240px at 110% 85%, #57b781 0 60%, transparent 61%) 100% 100%/50% 60% no-repeat;
    opacity:.8; animation:slideSlow 20s linear infinite
  }
  .bg-trees{ display:flex; gap:40px; align-items:flex-end; padding-left:20px; animation:slideTrees 8s linear infinite }
  @keyframes slideSlow{ to{ background-position:-200% 100%, 300% 100% } }
  @keyframes slideTrees{ from{ transform:translateX(0) } to{ transform:translateX(-50%) } }

  /* ‚Äú√Årboles‚Äù ligeros (emoji con contorno para vibe pixel) */
  .tree{font-size:26px; filter:drop-shadow(0 2px 2px rgba(0,0,0,.35))}
  .tree span{ text-shadow:
      0 0 1px #0b2a1b, 0 0 2px #0b2a1b, 1px 1px 0 #0b2a1b, -1px 1px 0 #0b2a1b }

  /* Suelo tipo pasto pixel */
  #ground{
    position:absolute;left:0;right:0;bottom:0;height:34px;
    background:
      repeating-linear-gradient(90deg,#2c7a4b 0 6px,#288247 6px 12px),
      linear-gradient(#196138,#1e7a46);
    border-top:2px solid #104a2f;
    box-shadow:inset 0 6px 0 rgba(255,255,255,.06)
  }

  /* Sprites */
  .sprite{position:absolute;width:60px;height:60px;background-size:cover;background-position:center;image-rendering:pixelated}
  #princesa{left:42px;bottom:34px}
  #meta{right:18px;bottom:34px;filter:drop-shadow(0 0 10px rgba(255,255,255,.35))}

  /* Obst√°culos visibles */
 /* Obst√°culos MUCHO m√°s visibles */
.obst{
  position:absolute;
  bottom:34px;
  width:64px;
  height:64px;
  font-size:50px;
  display:flex;
  align-items:center;
  justify-content:center;
  user-select:none;
  transform:translateZ(0);
  filter:drop-shadow(0 0 8px rgba(0,0,0,.9));
}

/* Coraz√≥n roto fuerte, vibrante */
.heart{
  color:#ff0037;
  opacity:1;
  text-shadow:
    0 0 2px #fff,
    0 0 6px #ff92ac,
    0 0 10px #ff92ac,
    3px 3px 0 #520016,
    -3px 3px 0 #520016,
    0 0 14px rgba(255,0,55,.9);
}

/* Sombra malvada con contorno grueso */
.shadow{
  color:#000;
  opacity:1;
  text-shadow:
    0 0 2px #fff,
    0 0 10px rgba(255,255,255,.9),
    3px 3px 0 #000,
    -3px 3px 0 #000,
    0 0 18px rgba(0,0,0,1);
}


  #msg{text-align:center;margin-top:12px;min-height:28px;color:#0b2a1b;font-weight:700}
  #help{text-align:center;margin-top:6px;color:#104a2f}

  /* Corazones al saltar */
  .puff{position:absolute;font-size:16px;pointer-events:none;opacity:.9;transform:translate(-50%,-50%);transition:transform .7s,opacity .7s;
    filter:drop-shadow(0 0 6px rgba(255,255,255,.4))}
</style>

<section id="gameCard">
  <div id="hud">
    <div class="chip">Nivel <b id="level">1</b> / 17</div>
    <div id="progressWrap"><div id="progress"></div></div>
    <button id="startBtn" class="btn">Start</button>
    <button id="retryBtn" class="btn secondary" style="display:none">Retry</button>
    <button id="nextBtn" class="btn" style="display:none">Next ‚Üí</button>
  </div>

  <div id="gameBox" aria-label="Bosque">
    <!-- Capas de fondo -->
    <div class="bg-hills"></div>
    <div class="bg-trees" id="trees"></div>

    <!-- Sprites -->
    <div id="princesa" class="sprite" style="background-image:url('assets/photos/jen.png')"></div>
    <div id="meta" class="sprite" style="background-image:url('assets/photos/yo.png')"></div>

    <div id="ground"></div>
  </div>

  <div id="msg"></div>
  <div id="help">Saltar: Espacio ‚Ä¢ Tap/Click</div>
</section>

<script>
;(()=>{
  /* ------- Niveles ------- */
  const LEVELS = Array.from({length:17},(_,i)=>({
    duration: 13 + i,
    speed:    230 + i*25,
    spawnMin: Math.max(340, 880 - i*35),
    spawnMax: Math.max(560, 1350 - i*40),
    airChance: Math.min(.70, .12 + i*0.03),
    doubleChance: Math.min(.40, i*0.02)
  }));

  /* ------- DOM ------- */
  const gameBox = document.getElementById("gameBox");
  const treesWrap = document.getElementById("trees");
  const princesa = document.getElementById("princesa");
  const meta = document.getElementById("meta");
  const levelEl = document.getElementById("level");
  const progress = document.getElementById("progress");
  const msg = document.getElementById("msg");
  const startBtn = document.getElementById("startBtn");
  const retryBtn = document.getElementById("retryBtn");
  const nextBtn = document.getElementById("nextBtn");

  /* ------- Bosque: genera √°rboles livianos ------- */
  function generateTrees(){
    treesWrap.innerHTML = "";
    // dos ‚Äúpistas‚Äù de √°rboles para animar en loop
    for(let lane=0; lane<2; lane++){
      const row = document.createElement("div");
      row.style.display="flex"; row.style.alignItems="flex-end"; row.style.gap="40px";
      row.style.marginRight="40px";
      row.style.transform = `translateX(${lane*50}%)`;
      for(let i=0;i<18;i++){
        const t = document.createElement("div");
        t.className = "tree";
        const size = 22 + Math.floor(Math.random()*10);
        t.style.fontSize = size + "px";
        t.style.marginBottom = (Math.random()*6|0) + "px";
        t.innerHTML = `<span>üå≤</span>`;
        row.appendChild(t);
      }
      treesWrap.appendChild(row);
    }
  }
  generateTrees();

  /* ------- F√≠sica / juego ------- */
  const GROUND_Y = 34;
  const GRAVITY = 1700;
  const JUMP_V = 640;

  const BOX = { w:()=>gameBox.clientWidth, h:()=>gameBox.clientHeight };
  let currentLevel = 1, running=false, gameOver=false;
  let PRIN = { x:44, y:0, vy:0, jumping:false };
  let obstacles = new Set();
  let tStart=0, lastSpawn=0, nextSpawn=400, lastTime=0, raf=0;

  function place(el,x,b){el.style.left=x+"px";el.style.bottom=b+"px"}
  function reset(){
    PRIN.y=0; PRIN.vy=0; PRIN.jumping=false;
    place(princesa,PRIN.x,GROUND_Y);
    place(meta, BOX.w()-86,GROUND_Y);
    obstacles.forEach(o=>o.el.remove()); obstacles.clear();
    progress.style.width="0%";
  }

  function heart(x,y){
    const p=document.createElement("div");
    p.className="puff"; p.textContent="üíñ";
    p.style.left=x+"px"; p.style.bottom=y+"px";
    gameBox.appendChild(p);
    requestAnimationFrame(()=>{p.style.transform="translate(-50%,-80px) scale(1.6)";p.style.opacity="0"});
    setTimeout(()=>p.remove(),700);
  }

  function jump(){
    if(gameOver||!running||PRIN.jumping)return;
    PRIN.jumping=true; PRIN.vy=JUMP_V; heart(PRIN.x+30,GROUND_Y+PRIN.y+30);
  }

  document.addEventListener("keydown",e=>{ if(e.code==="Space"){ e.preventDefault(); jump(); }});
  gameBox.addEventListener("pointerdown",()=>{ if(!gameOver) jump(); });

  function spawn(lv){
    if(gameOver||!running)return;
    const isAir = Math.random()<lv.airChance;
    const el=document.createElement("div");
    el.className="obst "+(isAir?"shadow":"heart");
    el.textContent=isAir?"üëæ":"üíî";
    gameBox.appendChild(el);

    const o={ el, x: BOX.w()+24, y: isAir?GROUND_Y+96:GROUND_Y, w:48, h:48 };
    el.style.left=o.x+"px"; el.style.bottom=o.y+"px";
    obstacles.add(o);

    if(Math.random()<lv.doubleChance){
      setTimeout(()=>spawn({...lv,doubleChance:0}),160);
    }
  }

  function loop(t){
    raf=requestAnimationFrame(loop);
    if(!running) return;
    if(!lastTime) lastTime=t;
    const dt=Math.min(40,t-lastTime); lastTime=t;

    const lv=LEVELS[currentLevel-1];
    const elapsed=(t-tStart)/1000;
    progress.style.width = Math.min(100,(elapsed/lv.duration)*100)+"%";
    if(elapsed>=lv.duration) return win();

    lastSpawn+=dt;
    if(lastSpawn>=nextSpawn){
      spawn(lv);
      lastSpawn=0; nextSpawn = rnd(lv.spawnMin, lv.spawnMax);
    }

    PRIN.vy -= GRAVITY*(dt/1000);
    PRIN.y  += PRIN.vy*(dt/1000);
    if(PRIN.y<=0){ PRIN.y=0; PRIN.vy=0; PRIN.jumping=false; }
    place(princesa,PRIN.x,GROUND_Y+PRIN.y);

    const dx = lv.speed*(dt/1000);
    obstacles.forEach(o=>{
      o.x -= dx; o.el.style.left=o.x+"px";
      if(o.x<-70){o.el.remove();obstacles.delete(o);return;}
      if(hit(PRIN.x,GROUND_Y+PRIN.y,60,60, o.x,o.y,o.w,o.h)) lose();
    });
  }

  function hit(ax,ay,aw,ah,bx,by,bw,bh){
    return ax<bx+bw && ax+aw>bx && ay<by+bh && ay+ah>by;
  }
  function rnd(a,b){return Math.floor(a+Math.random()*(b-a))}

  function start(n){
    currentLevel=n; levelEl.textContent=n; msg.textContent="Nivel "+n+" ‚Äî Bosque";
    startBtn.style.display="none"; retryBtn.style.display="none"; nextBtn.style.display="none";
    running=true; gameOver=false; reset();
    tStart=performance.now(); lastTime=0; lastSpawn=0; nextSpawn=400;
  }
  function win(){
    running=false; gameOver=true;
    msg.textContent = currentLevel<17 ? "¬°Nivel superado! üíö" : "üéâ ¬°Completaste los 17 niveles!";
    if(currentLevel<17) nextBtn.style.display="inline-block"; else retryBtn.style.display="inline-block";
  }
  function lose(){
    if(gameOver) return;
    running=false; gameOver=true;
    msg.textContent="¬°Auch! Un coraz√≥n roto/una sombra te golpe√≥‚Ä¶";
    retryBtn.style.display="inline-block";
  }

  startBtn.onclick=()=>start(currentLevel);
  retryBtn.onclick=()=>start(currentLevel);
  nextBtn.onclick =()=>start(currentLevel+1);

  reset(); requestAnimationFrame(loop);
})();
</script>






</body>
</html>
